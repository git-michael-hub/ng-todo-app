<section>
  <!-- <div class=""> -->
    <!-- <div cdkDropList class="example-list" (cdkDropListDropped)="drop($event)">
      @for (task of TASKS; track task) {
        <div class="example-box" cdkDrag>
          <div class="example-custom-placeholder" *cdkDragPlaceholder></div>
          <div>
            <p class="tw-text-lg">{{task.title  | slice:0:100 }}</p>
            <span class="tw-text-sm" [innerHTML]="task.description  | slice:0:350"></span>
            <span>{{ task.description.length > 350 ? '...' : '' }}</span>
          </div>
        </div>
      }
    </div> -->

    <div class="list-container">
      @if (TASKS.length !== 0) {
        <cdk-virtual-scroll-viewport itemSize="0" autosize class="viewport">
          <div *cdkVirtualFor="let task of TASKS; trackBy: trackById; let i = index" class="list-item tw-pb-[12px]">
            <!-- {{ item }} -->
            <!-- <div class=""> -->
              <div class="tw-bg-[#fff] tw-rounded-lg tw-px-[8px] tw-py-[4px] tw-h-[80px]">
                <div class="item-head tw-text-lg tw-flex tw-justify-between tw-h-[36px]">
                  <div>
                    <mat-checkbox [(ngModel)]="task.isCompleted" (click)="markAsComplete(task)" class="example-margin"></mat-checkbox>

                    <!-- {{task.id}}+ -->
                   <span class="tw-text-[16px]">
                    {{task.title | titlecase | slice:0:100 }}
                   </span>
                  </div>

                  <div>

                   @if (task.isCompleted) {
                    <span class="tw-px-[12px] tw-mr-[4px] tw-text-sm tw-text-[#1aa318]">DONE</span>
                   }

                    @if (task.priority !== 'low' && !task.isCompleted) {
                      <span class="tw-px-[12px] tw-mr-[4px]">{{task.priority | priority}}</span>
                    }

                    <span class="tw-text-sm tw-rounded-full tw-px-[12px] tw-py-[4px] tw-bg-[#faf9fd]">{{task.date | date: 'mediumDate' }}</span>



                    <!-- <button mat-button (click)="deleteTask(task.id)">Delete</button>
                    <button mat-button (click)="viewTask(task)">View</button> -->
                  </div>
                </div>

                <div class="item-content tw-flex tw-justify-between tw-h-[20px]">
                  <div class="task-description tw-text-sm tw-pl-[45px] tw-text-[#4d4d4d] tw-w-[80%]">
                   <div class="">
                    <span class="" [innerHTML]="task.description | slice:0:200"></span>
                    <span>{{ task.description.length > 200 ? '...' : '' }}</span>
                   </div>
                  </div>


                  <div class="item-content-buttons tw-hidden">
                    @if (!task.isCompleted) {
                      <button mat-button (click)="deleteTask(task.id)" class="!tw-text-[#cb2929]">Delete</button>
                    }

                    <button mat-button (click)="viewTask(task)">View</button>
                  </div>
                </div>



              </div>
            <!-- </div> -->
          </div>
        </cdk-virtual-scroll-viewport>
      }
      @else {
        <div>No Tasks.</div>
      }
    </div>
  <!-- </div> -->



</section>
